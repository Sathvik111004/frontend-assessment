import{j as a}from"./jsx-runtime-BO8uF4Og.js";import{R as h}from"./index-D4H_InIO.js";function q(n){var i,o,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(i=0;i<l;i++)n[i]&&(o=q(n[i]))&&(r&&(r+=" "),r+=o)}else for(o in n)n[o]&&(r&&(r+=" "),r+=o);return r}function T(){for(var n,i,o=0,r="",l=arguments.length;o<l;o++)(n=arguments[o])&&(i=q(n))&&(r&&(r+=" "),r+=i);return r}function p({data:n,columns:i,loading:o,selectable:r,onRowSelect:l,emptyText:_="No data"}){const[c,B]=h.useState({key:null,direction:null}),[b,j]=h.useState(new Set),m=h.useMemo(()=>{if(!c.key||!c.direction)return n;const e=[...n];return e.sort((s,t)=>{const d=s[c.key],u=t[c.key];return d==null&&u==null?0:d==null?1:u==null?-1:typeof d=="number"&&typeof u=="number"?c.direction==="asc"?d-u:u-d:c.direction==="asc"?String(d).localeCompare(String(u)):String(u).localeCompare(String(d))}),e},[n,c]);function L(e){e.sortable&&B(s=>{const t=e.dataIndex;return s.key!==t?{key:t,direction:"asc"}:s.direction==="asc"?{key:t,direction:"desc"}:{key:null,direction:null}})}function z(e){r&&j(s=>{const t=new Set(s);return t.has(e)?t.delete(e):t.add(e),l==null||l(Array.from(t).map(d=>m[d])),t})}function $(){r&&j(e=>{if(e.size===m.length)return l==null||l([]),new Set;const s=new Set(m.map((t,d)=>d));return l==null||l(Array.from(s).map(t=>m[t])),s})}return a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:a.jsxs("tr",{children:[r&&a.jsx("th",{className:"px-3 py-2 text-left w-10",children:a.jsx("input",{"aria-label":"Select all rows",type:"checkbox",checked:b.size===m.length&&m.length>0,onChange:$})}),i.map(e=>a.jsx("th",{scope:"col",className:"px-3 py-2 text-left font-semibold select-none",children:a.jsxs("button",{className:T("inline-flex items-center gap-1",e.sortable&&"cursor-pointer"),onClick:()=>L(e),"aria-label":e.sortable?`Sort by ${e.title}`:void 0,children:[e.title,c.key===e.dataIndex&&a.jsx("span",{"aria-hidden":!0,children:c.direction==="asc"?"▲":"▼"})]})},e.key))]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:i.length+(r?1:0),className:"px-3 py-6 text-center",children:"Loading…"})}):m.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:i.length+(r?1:0),className:"px-3 py-6 text-center text-gray-500",children:_})}):m.map((e,s)=>a.jsxs("tr",{className:T("border-t border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900"),children:[r&&a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{"aria-label":`Select row ${s+1}`,type:"checkbox",checked:b.has(s),onChange:()=>z(s)})}),i.map(t=>a.jsx("td",{className:"px-3 py-2 align-top",children:t.render?t.render(e[t.dataIndex],e):String(e[t.dataIndex]??"")},t.key))]},s))})]})})}p.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"Column",elements:[{name:"T"}],raw:"Column<T>"}],raw:"Column<T>[]"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},selectable:{required:!1,tsType:{name:"boolean"},description:""},onRowSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedRows: T[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"T"}],raw:"T[]"},name:"selectedRows"}],return:{name:"void"}}},description:""},emptyText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No data'",computed:!1}}}};const E=[{id:1,name:"Alice",email:"alice@example.com"},{id:2,name:"Bob",email:"bob@example.com"},{id:3,name:"Carol",email:"carol@example.com"}],f=[{key:"name",title:"Name",dataIndex:"name",sortable:!0},{key:"email",title:"Email",dataIndex:"email",sortable:!0}],V={title:"Components/DataTable",component:p},y={render:()=>a.jsx(p,{data:E,columns:f})},x={render:()=>a.jsx(p,{data:E,columns:f,selectable:!0,onRowSelect:()=>{}})},g={render:()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(p,{data:[],columns:f,loading:!0}),a.jsx(p,{data:[],columns:f})]})};var k,N,v;y.parameters={...y.parameters,docs:{...(k=y.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: () => <DataTable<Row> data={data} columns={columns} />
}`,...(v=(N=y.parameters)==null?void 0:N.docs)==null?void 0:v.source}}};var S,A,C;x.parameters={...x.parameters,docs:{...(S=x.parameters)==null?void 0:S.docs,source:{originalSource:`{
  render: () => <DataTable<Row> data={data} columns={columns} selectable onRowSelect={() => {}} />
}`,...(C=(A=x.parameters)==null?void 0:A.docs)==null?void 0:C.source}}};var w,D,I;g.parameters={...g.parameters,docs:{...(w=g.parameters)==null?void 0:w.docs,source:{originalSource:`{
  render: () => <div className="space-y-6">
    <DataTable<Row> data={[]} columns={columns} loading />
    <DataTable<Row> data={[]} columns={columns} />
  </div>
}`,...(I=(D=g.parameters)==null?void 0:D.docs)==null?void 0:I.source}}};const F=["Basic","Selectable","LoadingAndEmpty"];export{y as Basic,g as LoadingAndEmpty,x as Selectable,F as __namedExportsOrder,V as default};
